{%extends 'visualizationsbase.html'%} {%load static%} {%block content%}

<h1>Visualtizations</h1>

<!-- ***** Preloader Start ***** -->
<div id="js-preloader" class="js-preloader">
  <div class="preloader-inner">
    <span class="dot"></span>
    <div class="dots">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </div>
</div>
<!-- ***** Preloader End ***** -->

<!-- ***** Header Area Start ***** -->
<header class="header-area header-sticky">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <nav class="main-nav">
          <!-- ***** Logo Start ***** -->
          
            <!-- <img src="{% static 'images/visualizer/logo.png' %}" alt=""> -->
            <a class="navbar-brand" style="color: aliceblue; position:absolute; margin-top:-15px; margin-left:10px;" href="{% url 'home' %}"><img src="{% static 'images/logo3.png'%}" style="height:80px; "></a>

          
          <!-- ***** Logo End ***** -->
          <!-- ***** Search End ***** -->
          <div class="search-input">
            <form id="search" action="{% url 'filteredVisualizations' %}" method="get">
              <input
                type="text"
                placeholder="Search Maps"
                id="searchText"
                name="searchKeyword"
                onkeypress="handle"
              />
              <i class="fa fa-search"></i>
            </form>
          </div>
          <!-- ***** Search End ***** -->
          <!-- ***** Menu Start ***** -->
          <ul class="nav">
            <li><a href="index.html" class="active">Home</a></li>
            <li><a href="browse.html">Downloads</a></li>
            <!-- <li><a href="details.html">Details</a></li>
                        <li><a href="streams.html">Streams</a></li> -->
            <li>
              <a href="profile.html"
                >Profile
                <img
                  src="{% static 'images/visualizer/profile-header.jpg' %}"
                  alt=""
              /></a>
            </li>
          </ul>
          <a class="menu-trigger">
            <span>Menu</span>
          </a>
          <!-- ***** Menu End ***** -->
        </nav>
      </div>
    </div>
  </div>
</header>
<!-- ***** Header Area End ***** -->

<div class="container">
  <div class="row">
    <div class="col-lg-12">
      <div class="page-content">
        <!-- ***** Banner Start ***** -->
        <div class="main-banner">
          <div class="row">
            <div class="col-lg-7">
              <div class="header-text">
                <h6>Welcome to Visualizer</h6>
                <h4><em>Browse</em> Maps here</h4>
                <div class="main-button">
                  <a href="browse.html">Browse Now</a>
                </div>
              </div>
            </div>
            <div class="col-lg-4">
              <form action="{% url 'filteredVisualizations' %}" method="get">
                <div class="filter-section" style="color:white;">
                  <label for="mapTypeFilter">Map Type:</label>
                  <select name="mapTypeFilter" id="mapTypeFilter">
                      <option value="">All</option>
                      {% for map_type in map_types %}
                          <option value="{{ map_type.name }}" {% if request.GET.mapTypeFilter == map_type.name %}selected{% endif %}>{{ map_type.name }}</option>
                      {% endfor %}
                  </select>
              
                  <label for="dataTypeFilter">Data Type:</label>
                  <select name="dataTypeFilter" id="dataTypeFilter">
                      <option value="">All</option>
                      {% for data_type in data_types %}
                          <option value="{{ data_type.name }}" {% if request.GET.dataTypeFilter == data_type.name %}selected{% endif %}>{{ data_type.name }}</option>
                      {% endfor %}
                  </select>
              
                  <button type="submit">Apply Filters</button>
                </div>
              </form>
            </div>
          </div>
        </div>
        <!-- ***** Banner End ***** -->

        <!-- ***** Most Popular Start ***** -->
        <div class="most-popular">
          <div class="row">
            <div class="col-lg-12">
              <div class="heading-section">
                <h4><em>Most Popular</em> Right Now</h4>
              </div>
              {% for map in maps %} {% if forloop.counter0|divisibleby:3 %}
            </div>
            <div class="row">
              {% endif %}

              <div class="col-lg-4 col-sm-4">
                <div class="item">
                  <img src="{{ map.thumbnail.url }}" alt="" />
                  <h4>
                    {{ map.title }}<br />
                    {% if map.free %}
                    <span style="color: red">Free</span>
                  </h4>
                  <button
                    class="btn btn-primary active"
                    style="margin: 10px 100px"
                  >
                    Download
                  </button>
                  {%else%}
                  <span> Rs {{map.price}}</span>
                  <a href="{% url 'checkout' map.id %}"
                    ><button
                      type="button"
                      class="btn btn-outline-success"
                      style="margin: 10px 130px"
                    >
                      Buy
                    </button></a
                  >
                  {% endif%}
                </div>
              </div>
              {% endfor %}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <p>
          Copyright Â© 2023 <a href="#">GeoFramer</a> . All rights reserved.

          <br />Design by:
          <a
            href="https://templatemo.com"
            target="_blank"
            title="free CSS templates"
            >TemplateMo</a
          >
        </p>
      </div>
    </div>
  </div>
</footer>

<!-- Scripts -->
<!-- Bootstrap core JavaScript -->
<script src="vendor/jquery/jquery.min.js"></script>
<script src="vendor/bootstrap/js/bootstrap.min.js"></script>

<script src="{% static 'isotope.min.js' %}"></script>
<script src="{% static 'owl-carousel.js' %}"></script>
<script src="{% static 'tabs.js' %}"></script>
<script src="{% static 'popup.js' %}"></script>
<script src="{% static 'custom.js' %}"></script>

{%endblock%}
